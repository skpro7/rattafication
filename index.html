<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RATTAFICATION - Smart Exam Preparation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #e0e7ff;
            --secondary: #3a0ca3;
            --accent: #7209b7;
            --success: #4cc9f0;
            --warning: #f72585;
            --info: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --card-bg: #ffffff;
            --sidebar-bg: #f8fafc;
            --border: #e2e8f0;
            --text: #334155;
            --text-light: #64748b;
        }

        .dark-theme {
            --primary: #4895ef;
            --primary-light: #1e293b;
            --secondary: #3a0ca3;
            --accent: #7209b7;
            --success: #4cc9f0;
            --warning: #f72585;
            --info: #4895ef;
            --light: #0f172a;
            --dark: #f8f9fa;
            --card-bg: #1e293b;
            --sidebar-bg: #0f172a;
            --border: #334155;
            --text: #e2e8f0;
            --text-light: #94a3b8;
        }

        .semi-dark-theme {
            --primary: #4895ef;
            --primary-light: #334155;
            --secondary: #3a0ca3;
            --accent: #7209b7;
            --success: #4cc9f0;
            --warning: #f72585;
            --info: #4895ef;
            --light: #1e293b;
            --dark: #f8f9fa;
            --card-bg: #334155;
            --sidebar-bg: #1e293b;
            --border: #475569;
            --text: #e2e8f0;
            --text-light: #94a3b8;
        }

        .colorful-theme {
            --primary: #ff6b6b;
            --primary-light: #ffebee;
            --secondary: #4ecdc4;
            --accent: #ffd166;
            --success: #06d6a0;
            --warning: #ff9e00;
            --info: #118ab2;
            --light: #f8f9fa;
            --dark: #212529;
            --card-bg: #ffffff;
            --sidebar-bg: #f8fafc;
            --border: #e2e8f0;
            --text: #334155;
            --text-light: #64748b;
        }

        .ocean-theme {
            --primary: #1a73e8;
            --primary-light: #e8f0fe;
            --secondary: #0d47a1;
            --accent: #00bcd4;
            --success: #0f9d58;
            --warning: #f4b400;
            --info: #4285f4;
            --light: #f8f9fa;
            --dark: #212529;
            --card-bg: #ffffff;
            --sidebar-bg: #f8fafc;
            --border: #e2e8f0;
            --text: #334155;
            --text-light: #64748b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f0f4ff 0%, #f8fafc 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--primary);
            transform: rotate(-5deg);
            background: var(--primary-light);
            padding: 10px;
            border-radius: 12px;
        }

        .logo-text {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .creator {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-top: 5px;
        }

        /* Welcome Screen */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.8s ease;
        }

        .welcome-content {
            text-align: center;
            max-width: 600px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transform: perspective(1000px) rotateX(5deg);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: perspective(1000px) rotateX(5deg) translateY(0); }
            50% { transform: perspective(1000px) rotateX(5deg) translateY(-10px); }
        }

        .welcome-title {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: var(--text);
        }

        .name-input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-size: 1.1rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .name-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .start-btn {
            padding: 15px 40px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.6);
        }

        /* Main App */
        .app-content {
            display: none;
        }

        .user-greeting {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }

        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title i {
            font-size: 1.5rem;
        }

        /* Revision Calendar */
        .calendar-container {
            margin-bottom: 30px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calendar-nav button:hover {
            background: var(--primary);
            color: white;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--light);
            border-radius: 10px;
            position: relative;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
        }

        .calendar-day:hover {
            background: var(--primary-light);
            transform: scale(1.05);
        }

        .calendar-day.current {
            background: var(--primary-light);
            border: 1px solid var(--primary);
        }

        .calendar-day.revision {
            background: rgba(114, 9, 183, 0.1);
            border: 1px solid var(--accent);
        }

        .day-number {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .revision-dots {
            display: flex;
            gap: 3px;
            margin-top: 5px;
        }

        .revision-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .dot-math { background: #4cc9f0; }
        .dot-reasoning { background: #f72585; }
        .dot-english { background: #4895ef; }
        .dot-gk { background: #7209b7; }
        .dot-computer { background: #3a0ca3; }
        .dot-banking { background: #38b000; }

        /* Add Topic Section */
        .add-topic-section {
            margin-bottom: 30px;
        }

        .topic-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }

        .form-select, .form-input {
            padding: 12px;
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-size: 1rem;
        }

        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .add-btn {
            grid-column: span 2;
            padding: 15px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }

        /* Progress Graph */
        .progress-container {
            height: 200px;
            margin-top: 15px;
        }

        /* Tips Section */
        .tips-section {
            margin-top: 40px;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .tip-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .tip-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .tip-icon {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .tip-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .tip-content {
            color: var(--text-light);
            line-height: 1.5;
        }

        /* To-Do List Section */
        .todo-section {
            margin-top: 40px;
        }

        .todo-list {
            list-style: none;
            margin-top: 15px;
        }

        .todo-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin-bottom: 10px;
            background: var(--light);
            border-radius: 10px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .todo-item:hover {
            background: var(--primary-light);
        }

        .todo-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .todo-content {
            flex: 1;
        }

        .todo-subject {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .todo-topic {
            font-weight: 600;
        }

        .todo-revision {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .todo-date {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        /* Drawer */
        .drawer {
            position: fixed;
            top: 0;
            right: -350px;
            width: 350px;
            height: 100%;
            background: var(--sidebar-bg);
            padding: 20px;
            transition: right 0.3s ease;
            z-index: 100;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            border-left: 1px solid var(--border);
            overflow-y: auto;
        }

        .drawer.open {
            right: 0;
        }

        .drawer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .drawer-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .close-drawer {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .drawer-menu {
            list-style: none;
            margin-bottom: 30px;
        }

        .drawer-menu li {
            margin-bottom: 15px;
        }

        .drawer-menu a {
            display: flex;
            align-items: center;
            gap: 15px;
            color: var(--text);
            text-decoration: none;
            font-size: 1.1rem;
            padding: 10px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .drawer-menu a:hover {
            background: var(--primary-light);
        }

        .drawer-menu i {
            font-size: 1.3rem;
            width: 30px;
            color: var(--primary);
        }

        .drawer-section {
            margin-bottom: 30px;
        }

        .drawer-section-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 600;
        }

        .drawer-section-content {
            color: var(--text-light);
            line-height: 1.5;
        }

        .theme-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .theme-option {
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .theme-option:hover {
            transform: scale(1.05);
        }

        .theme-option.active {
            border-color: var(--primary);
        }

        .theme-light {
            background: linear-gradient(135deg, #f0f4ff 0%, #f8fafc 100%);
            color: #334155;
        }

        .theme-dark {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
        }

        .theme-semi-dark {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: #e2e8f0;
        }

        .theme-colorful {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
            color: #334155;
        }

        .theme-ocean {
            background: linear-gradient(135deg, #1a73e8 0%, #00bcd4 100%);
            color: white;
        }

        .contact-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            margin-top: 10px;
        }

        /* Menu Button */
        .menu-btn {
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 10px;
            width: 50px;
            height: 50px;
            color: var(--primary);
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            background: var(--primary);
            color: white;
        }

        /* Notification Modal */
        .notification-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .notification-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .notification-content {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .notification-modal.active .notification-content {
            transform: translateY(0);
        }

        .notification-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .notification-message {
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .notification-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .notification-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .notification-btn.primary {
            background: var(--primary);
            color: white;
        }

        .notification-btn.secondary {
            background: var(--light);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .notification-btn:hover {
            transform: translateY(-2px);
        }

        /* Share Modal */
        .share-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .share-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .share-content {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .share-modal.active .share-content {
            transform: translateY(0);
        }

        .share-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .share-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 15px;
            border-radius: 10px;
            background: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .share-option:hover {
            background: var(--primary-light);
            transform: translateY(-5px);
        }

        .share-icon {
            font-size: 2rem;
        }

        .share-name {
            font-size: 0.9rem;
            text-align: center;
        }

        .share-link {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .share-input {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--light);
            color: var(--text);
        }

        .copy-btn {
            padding: 10px 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
            border-top: 1px solid var(--border);
            color: var(--text-light);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }

            .topic-form {
                grid-template-columns: 1fr;
            }

            .add-btn {
                grid-column: span 1;
            }

            .drawer {
                width: 100%;
                right: -100%;
            }

            .share-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <h1 class="welcome-title">RATTAFICATION</h1>
            <p class="welcome-subtitle">Master RRB/SSC/Banking exams with scientific revision scheduling</p>
            <input type="text" class="name-input" id="userName" placeholder="Enter your name">
            <button class="start-btn" id="startBtn">Start Exam Preparation</button>
            <p class="creator">App made by Mr. Shailendra</p>
        </div>
    </div>

    <!-- Main App Content -->
    <div class="app-content" id="appContent">
        <div class="container">
            <!-- Header -->
            <header>
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div>
                        <div class="logo-text">RATTAFICATION</div>
                        <div class="creator">App made by Mr. Shailendra</div>
                    </div>
                </div>
                <button class="menu-btn" id="menuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </header>

            <!-- User Greeting -->
            <div class="user-greeting" id="userGreeting">
                Welcome back, <span id="displayName">User</span>! Ready for today's revision?
            </div>

            <!-- Dashboard -->
            <div class="dashboard">
                <!-- Today's Revisions -->
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-tasks"></i>
                        Today's Revisions
                    </div>
                    <div id="todayRevisions">
                        <p>No revisions scheduled for today.</p>
                    </div>
                </div>

                <!-- Progress Overview -->
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-chart-line"></i>
                        Progress Overview
                    </div>
                    <div class="progress-container">
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Revision Calendar -->
            <div class="calendar-container">
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-calendar-alt"></i>
                        Revision Calendar
                    </div>
                    <div class="calendar-header">
                        <h3 id="currentMonth">June 2023</h3>
                        <div class="calendar-nav">
                            <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                            <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar" id="calendar">
                        <!-- Calendar will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Add Topic Section -->
            <div class="add-topic-section">
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-plus-circle"></i>
                        Add Topic for Revision
                    </div>
                    <div class="topic-form">
                        <div class="form-group">
                            <label class="form-label">Subject</label>
                            <select class="form-select" id="subjectSelect">
                                <option value="">Select a subject</option>
                                <option value="math">Quantitative Aptitude</option>
                                <option value="reasoning">Reasoning Ability</option>
                                <option value="english">English Language</option>
                                <option value="gk">General Knowledge</option>
                                <option value="computer">Computer Knowledge</option>
                                <option value="banking">Banking Awareness</option>
                            </select>
                        </div>

                        <div class="form-group" id="chapterGroup">
                            <label class="form-label">Chapter/Topic</label>
                            <select class="form-select" id="chapterSelect">
                                <option value="">Select a chapter</option>
                            </select>
                        </div>

                        <div class="form-group" id="customTopicGroup" style="display: none;">
                            <label class="form-label">Custom Topic</label>
                            <input type="text" class="form-input" id="customTopic" placeholder="Enter topic name">
                        </div>

                        <button class="add-btn" id="addTopicBtn">
                            <i class="fas fa-plus"></i> Add to Revision Schedule
                        </button>
                    </div>
                </div>
            </div>

            <!-- To-Do List -->
            <div class="todo-section">
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-list-check"></i>
                        Revision To-Do List
                    </div>
                    <div id="todoList">
                        <p>No revisions scheduled. Add topics to get started.</p>
                    </div>
                </div>
            </div>

            <!-- Progress Timeline -->
            <div class="todo-section">
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-chart-bar"></i>
                        Revision Progress Timeline
                    </div>
                    <div class="progress-container">
                        <canvas id="timelineChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Tips Section -->
            <div class="tips-section">
                <div class="card">
                    <div class="card-title">
                        <i class="fas fa-lightbulb"></i>
                        Exam Preparation Tips
                    </div>
                    <div class="tips-grid">
                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="tip-title">Active Recall</div>
                            <div class="tip-content">
                                Test yourself regularly instead of just re-reading. This strengthens memory pathways and improves retention.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="tip-title">Spaced Repetition</div>
                            <div class="tip-content">
                                Review material at increasing intervals to combat the forgetting curve. This app automates this process for you.
                            </div>
                        </div>

                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="tip-title">Interleaving</div>
                            <div class="tip-content">
                                Mix different subjects or topics during study sessions for better retention and understanding.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer>
                <p>RATTAFICATION - Scientific Revision Scheduling for RRB/SSC/Banking Exams</p>
            </footer>
        </div>
    </div>

    <!-- Drawer -->
    <div class="drawer" id="drawer">
        <div class="drawer-header">
            <div class="drawer-title">Menu</div>
            <button class="close-drawer" id="closeDrawer">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <ul class="drawer-menu">
            <li><a href="#"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="#"><i class="fas fa-chart-bar"></i> Progress</a></li>
            <li><a href="#" id="themeLink"><i class="fas fa-palette"></i> Theme Settings</a></li>
            <li><a href="#" id="shareAppLink"><i class="fas fa-share-alt"></i> Share App</a></li>
            <li><a href="#" id="aboutLink"><i class="fas fa-info-circle"></i> About</a></li>
            <li><a href="#" id="doubtsLink"><i class="fas fa-question-circle"></i> Any Doubts</a></li>
        </ul>

        <div class="drawer-section" id="themeSection" style="display: none;">
            <div class="drawer-section-title">Theme Settings</div>
            <div class="theme-options">
                <div class="theme-option theme-light active" data-theme="light">
                    Light
                </div>
                <div class="theme-option theme-dark" data-theme="dark">
                    Dark
                </div>
                <div class="theme-option theme-semi-dark" data-theme="semi-dark">
                    Semi Dark
                </div>
                <div class="theme-option theme-colorful" data-theme="colorful">
                    Colorful
                </div>
                <div class="theme-option theme-ocean" data-theme="ocean">
                    Ocean
                </div>
            </div>
        </div>

        <div class="drawer-section" id="aboutSection" style="display: none;">
            <div class="drawer-section-title">About RATTAFICATION</div>
            <div class="drawer-section-content">
                <p>RATTAFICATION is a scientifically designed exam preparation app that helps students master competitive exams like RRB, SSC, and Banking through optimized revision scheduling.</p>
                <p>Using principles of spaced repetition and active recall, the app schedules revisions at scientifically proven intervals to maximize retention and minimize forgetting.</p>
                <p>This app is created by Mr. Shailendra to help students prepare more effectively for competitive exams.</p>
            </div>
        </div>

        <div class="drawer-section" id="doubtsSection" style="display: none;">
            <div class="drawer-section-title">Any Doubts?</div>
            <div class="drawer-section-content">
                <p>If you have any questions or need help with the app, feel free to contact the owner:</p>
                <a href="https://t.me/shailuk7" class="contact-link" target="_blank">
                    <i class="fas fa-envelope"></i>
                    Contact with Owner
                </a>
            </div>
        </div>
    </div>

    <!-- Notification Modal -->
    <div class="notification-modal" id="notificationModal">
        <div class="notification-content">
            <div class="notification-title">Revision Reminder</div>
            <div class="notification-message" id="notificationMessage">
                You have revisions scheduled for today. Check your dashboard to see what needs to be reviewed.
            </div>
            <div class="notification-actions">
                <button class="notification-btn secondary" id="notificationLater">Later</button>
                <button class="notification-btn primary" id="notificationGo">Go to Revisions</button>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="share-modal" id="shareModal">
        <div class="share-content">
            <div class="share-title">Share App</div>
            <div class="share-options">
                <div class="share-option" data-platform="whatsapp">
                    <div class="share-icon" style="color: #25D366;">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div class="share-name">WhatsApp</div>
                </div>
                <div class="share-option" data-platform="telegram">
                    <div class="share-icon" style="color: #0088cc;">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <div class="share-name">Telegram</div>
                </div>
                <div class="share-option" data-platform="facebook">
                    <div class="share-icon" style="color: #1877F2;">
                        <i class="fab fa-facebook"></i>
                    </div>
                    <div class="share-name">Facebook</div>
                </div>
                <div class="share-option" data-platform="twitter">
                    <div class="share-icon" style="color: #1DA1F2;">
                        <i class="fab fa-twitter"></i>
                    </div>
                    <div class="share-name">Twitter</div>
                </div>
            </div>
            <div class="share-link">
                <input type="text" class="share-input" id="shareInput" value="https://skpro7.github.io/rattafication/" readonly>
                <button class="copy-btn" id="copyLinkBtn">Copy</button>
            </div>
            <div class="notification-actions" style="margin-top: 20px;">
                <button class="notification-btn secondary" id="closeShareModal">Close</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const welcomeScreen = document.getElementById('welcomeScreen');
        const appContent = document.getElementById('appContent');
        const userNameInput = document.getElementById('userName');
        const startBtn = document.getElementById('startBtn');
        const userGreeting = document.getElementById('userGreeting');
        const displayName = document.getElementById('displayName');
        const menuBtn = document.getElementById('menuBtn');
        const drawer = document.getElementById('drawer');
        const closeDrawer = document.getElementById('closeDrawer');
        const subjectSelect = document.getElementById('subjectSelect');
        const chapterSelect = document.getElementById('chapterSelect');
        const customTopicGroup = document.getElementById('customTopicGroup');
        const chapterGroup = document.getElementById('chapterGroup');
        const addTopicBtn = document.getElementById('addTopicBtn');
        const calendar = document.getElementById('calendar');
        const currentMonth = document.getElementById('currentMonth');
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const todayRevisions = document.getElementById('todayRevisions');
        const todoList = document.getElementById('todoList');
        const aboutLink = document.getElementById('aboutLink');
        const doubtsLink = document.getElementById('doubtsLink');
        const themeLink = document.getElementById('themeLink');
        const aboutSection = document.getElementById('aboutSection');
        const doubtsSection = document.getElementById('doubtsSection');
        const themeSection = document.getElementById('themeSection');
        const shareAppLink = document.getElementById('shareAppLink');
        const notificationModal = document.getElementById('notificationModal');
        const notificationMessage = document.getElementById('notificationMessage');
        const notificationLater = document.getElementById('notificationLater');
        const notificationGo = document.getElementById('notificationGo');
        const shareModal = document.getElementById('shareModal');
        const shareInput = document.getElementById('shareInput');
        const copyLinkBtn = document.getElementById('copyLinkBtn');
        const closeShareModal = document.getElementById('closeShareModal');
        const themeOptions = document.querySelectorAll('.theme-option');

        // App State
        let currentUser = '';
        let currentDate = new Date();
        let topics = JSON.parse(localStorage.getItem('topics')) || [];
        let notificationShownToday = localStorage.getItem('notificationShownToday') || false;
        let currentTheme = localStorage.getItem('currentTheme') || 'light';

        // Subject data for RRB/SSC/Banking exams
        const subjects = {
            math: {
                name: 'Quantitative Aptitude',
                icon: 'fas fa-calculator',
                color: '#4cc9f0',
                chapters: [
                    'Number System', 'Decimals', 'Fractions', 'LCM, HCF', 'Ratio and Proportions',
                    'Percentage', 'Mensuration', 'Time and Work', 'Time and Distance',
                    'Simple and Compound Interest', 'Profit and Loss', 'Elementary Algebra',
                    'Geometry and Trigonometry', 'Elementary Statistics', 'Custom Topic'
                ]
            },
            reasoning: {
                name: 'General Intelligence & Reasoning',
                icon: 'fas fa-puzzle-piece',
                color: '#f72585',
                chapters: [
                    'Analogies', 'Completion of Number and Alphabetical Series', 'Coding and Decoding',
                    'Mathematical Operations', 'Similarities and Differences', 'Relationships',
                    'Analytical Reasoning', 'Syllogism', 'Jumbling', 'Venn Diagrams', 'Puzzle',
                    'Data Sufficiency', 'Statement- Conclusion', 'Statement- Courses of Action',
                    'Decision Making', 'Maps', 'Interpretation of Graphs', 'Custom Topic'
                ]
            },
            english: {
                name: 'English Language',
                icon: 'fas fa-language',
                color: '#4895ef',
                chapters: [
                    'Reading Comprehension', 'Cloze Test', 'Error Spotting', 'Sentence Improvement',
                    'Fill in the Blanks', 'Para Jumbles', 'Vocabulary', 'Grammar', 'Idioms & Phrases',
                    'One Word Substitution', 'Active & Passive Voice', 'Direct & Indirect Speech', 
                    'Spelling Check', 'Custom Topic'
                ]
            },
            gk: {
                name: 'General Awareness',
                icon: 'fas fa-globe',
                color: '#7209b7',
                chapters: [
                    'Current Events of National and International Importance', 'Games and Sports',
                    'Art and Culture of India', 'Indian Literature', 'Monuments and Places of India',
                    'General Science and Life Science', 'History of India and Freedom Struggle',
                    'Physical, Social and Economic Geography of India and the World',
                    'Indian Polity and Governance', 'General Scientific and Technological Developments',
                    'UN and Other Important World Organizations', 'Environmental Issues',
                    'Basics of Computers and Computer Applications', 'Common Abbreviations',
                    'Transport Systems in India', 'Indian Economy', 'Famous Personalities',
                    'Flagship Government Programs', 'Flora and Fauna of India',
                    'Important Government and Public Sector Organisations', 'Current GK', 'Custom Topic'
                ]
            },
            computer: {
                name: 'Computer Knowledge',
                icon: 'fas fa-laptop-code',
                color: '#3a0ca3',
                chapters: [
                    'Computer Fundamentals', 'Hardware & Software', 'Operating System', 'MS Office',
                    'Internet & Networking', 'Database Management', 'Computer Security', 'Programming Concepts',
                    'Computer Abbreviations', 'Input & Output Devices', 'Memory', 'Computer Languages', 'Custom Topic'
                ]
            },
            banking: {
                name: 'Banking Awareness',
                icon: 'fas fa-university',
                color: '#38b000',
                chapters: [
                    'Banking History', 'RBI & Its Functions', 'Banking Terms', 'Types of Accounts',
                    'Negotiable Instruments', 'Payment Systems', 'Financial Institutions', 'Monetary Policy',
                    'Non-Performing Assets', 'KYC Guidelines', 'Banking Ombudsman', 'Recent Banking Reforms', 'Custom Topic'
                ]
            }
        };

        // Initialize the app
        function initApp() {
            // Apply saved theme
            applyTheme(currentTheme);
            
            // Check if user already exists in localStorage
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = savedUser;
                showApp();
            }

            // Set up event listeners
            startBtn.addEventListener('click', startApp);
            menuBtn.addEventListener('click', toggleDrawer);
            closeDrawer.addEventListener('click', toggleDrawer);
            subjectSelect.addEventListener('change', handleSubjectChange);
            addTopicBtn.addEventListener('click', addTopic);
            prevMonthBtn.addEventListener('click', showPreviousMonth);
            nextMonthBtn.addEventListener('click', showNextMonth);
            aboutLink.addEventListener('click', showAbout);
            doubtsLink.addEventListener('click', showDoubts);
            themeLink.addEventListener('click', showTheme);
            shareAppLink.addEventListener('click', showShareModal);
            notificationLater.addEventListener('click', closeNotification);
            notificationGo.addEventListener('click', goToRevisions);
            copyLinkBtn.addEventListener('click', copyShareLink);
            closeShareModal.addEventListener('click', closeShareModalFunc);
            
            // Theme options
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    applyTheme(theme);
                    
                    // Update active state
                    themeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Save theme preference
                    localStorage.setItem('currentTheme', theme);
                });
            });
            
            // Share options
            document.querySelectorAll('.share-option').forEach(option => {
                option.addEventListener('click', function() {
                    const platform = this.getAttribute('data-platform');
                    shareOnPlatform(platform);
                });
            });

            // Initialize calendar
            renderCalendar();

            // Initialize progress chart
            initProgressChart();
            
            // Initialize timeline chart
            initTimelineChart();

            // Check for today's revisions
            checkTodaysRevisions();
            
            // Render to-do list
            renderTodoList();

            // Check if we should show notification
            checkForNotification();
        }

        // Apply theme
        function applyTheme(theme) {
            document.body.className = theme + '-theme';
            currentTheme = theme;
        }

        // Start the app
        function startApp() {
            const name = userNameInput.value.trim();
            if (name) {
                currentUser = name;
                localStorage.setItem('currentUser', name);
                showApp();
            } else {
                alert('Please enter your name to continue.');
            }
        }

        // Show the main app
        function showApp() {
            welcomeScreen.style.opacity = '0';
            setTimeout(() => {
                welcomeScreen.style.display = 'none';
                appContent.style.display = 'block';
                displayName.textContent = currentUser;
            }, 800);
        }

        // Toggle drawer
        function toggleDrawer() {
            drawer.classList.toggle('open');
        }

        // Show about section in drawer
        function showAbout(e) {
            e.preventDefault();
            aboutSection.style.display = 'block';
            doubtsSection.style.display = 'none';
            themeSection.style.display = 'none';
        }

        // Show doubts section in drawer
        function showDoubts(e) {
            e.preventDefault();
            aboutSection.style.display = 'none';
            doubtsSection.style.display = 'block';
            themeSection.style.display = 'none';
        }

        // Show theme section in drawer
        function showTheme(e) {
            e.preventDefault();
            aboutSection.style.display = 'none';
            doubtsSection.style.display = 'none';
            themeSection.style.display = 'block';
        }

        // Show share modal
        function showShareModal(e) {
            e.preventDefault();
            shareModal.classList.add('active');
            toggleDrawer();
        }

        // Close share modal
        function closeShareModalFunc() {
            shareModal.classList.remove('active');
        }

        // Copy share link
        function copyShareLink() {
            shareInput.select();
            document.execCommand('copy');
            alert('Link copied to clipboard!');
        }

        // Share on specific platform
        function shareOnPlatform(platform) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('Check out RATTAFICATION - the smart exam preparation app!');
            
            let shareUrl = '';
            
            switch(platform) {
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${text}%20${url}`;
                    break;
                case 'telegram':
                    shareUrl = `https://t.me/share/url?url=${url}&text=${text}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
                    break;
            }
            
            if (shareUrl) {
                window.open(shareUrl, '_blank');
            }
        }

        // Handle subject selection change
        function handleSubjectChange() {
            const selectedSubject = subjectSelect.value;
           
            // Update chapters based on selected subject
            chapterSelect.innerHTML = '<option value="">Select a chapter</option>';
           
            if (selectedSubject && subjects[selectedSubject]) {
                subjects[selectedSubject].chapters.forEach(chapter => {
                    const option = document.createElement('option');
                    option.value = chapter;
                    option.textContent = chapter;
                    chapterSelect.appendChild(option);
                });
            }
        }

        // Add topic to revision schedule
        function addTopic() {
            const subject = subjectSelect.value;
            let topicName = chapterSelect.value;
           
            if (!subject) {
                alert('Please select a subject.');
                return;
            }
            
            if (!topicName) {
                alert('Please select a chapter.');
                return;
            }
            
            // If custom topic is selected, show input
            if (topicName === 'Custom Topic') {
                const customTopic = prompt('Enter custom topic name:');
                if (!customTopic) {
                    alert('Please enter a topic name.');
                    return;
                }
                topicName = customTopic;
            }

            // Calculate revision dates (Day 1, 3, 7, 15, 30)
            const today = new Date();
            const revisionDates = [
                new Date(today),
                new Date(today.getTime() + 2 * 24 * 60 * 60 * 1000), // Day 3
                new Date(today.getTime() + 6 * 24 * 60 * 60 * 1000), // Day 7
                new Date(today.getTime() + 14 * 24 * 60 * 60 * 1000), // Day 15
                new Date(today.getTime() + 29 * 24 * 60 * 60 * 1000) // Day 30
            ];
           
            const newTopic = {
                id: Date.now(),
                subject: subject,
                topicName: topicName,
                addedDate: today,
                revisionDates: revisionDates,
                completedRevisions: [false, false, false, false, false] // All revisions start as incomplete
            };
           
            topics.push(newTopic);
            localStorage.setItem('topics', JSON.stringify(topics));
           
            // Reset form
            subjectSelect.value = '';
            chapterSelect.value = '';
           
            // Update UI
            renderCalendar();
            checkTodaysRevisions();
            initProgressChart();
            initTimelineChart();
            renderTodoList();
           
            alert('Topic added to revision schedule successfully!');
        }

        // Render calendar
        function renderCalendar() {
            // Clear calendar
            calendar.innerHTML = '';
           
            // Set current month display
            currentMonth.textContent = currentDate.toLocaleString('default', { month: 'long', year: 'numeric' });
           
            // Get first day of month and number of days
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            const daysInMonth = lastDay.getDate();
           
            // Add day headers
            const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayNames.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'calendar-day';
                dayHeader.style.fontWeight = 'bold';
                dayHeader.textContent = day;
                calendar.appendChild(dayHeader);
            });
           
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                calendar.appendChild(emptyDay);
            }
           
            // Add days of the month
            const today = new Date();
            today.setHours(0, 0, 0, 0);
           
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
               
                const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
               
                // Check if this is today
                if (date.getTime() === today.getTime()) {
                    dayElement.classList.add('current');
                }
               
                // Check if there are revisions scheduled for this day
                const revisionTopics = getRevisionsForDate(date);
                if (revisionTopics.length > 0) {
                    dayElement.classList.add('revision');
                   
                    // Add revision dots
                    const dotsContainer = document.createElement('div');
                    dotsContainer.className = 'revision-dots';
                   
                    revisionTopics.forEach(topic => {
                        const dot = document.createElement('div');
                        dot.className = `revision-dot dot-${topic.subject}`;
                        dotsContainer.appendChild(dot);
                    });
                   
                    dayElement.appendChild(dotsContainer);
                }
               
                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = day;
                dayElement.appendChild(dayNumber);
               
                calendar.appendChild(dayElement);
            }
        }

        // Get revisions for a specific date
        function getRevisionsForDate(date) {
            const revisions = [];
            const dateString = date.toDateString();
           
            topics.forEach(topic => {
                topic.revisionDates.forEach((revDate, index) => {
                    if (new Date(revDate).toDateString() === dateString && !topic.completedRevisions[index]) {
                        revisions.push({
                            subject: topic.subject,
                            topicName: topic.topicName
                        });
                    }
                });
            });
           
            return revisions;
        }

        // Show previous month
        function showPreviousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        }

        // Show next month
        function showNextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        }

        // Initialize progress chart
        function initProgressChart() {
            const ctx = document.getElementById('progressChart').getContext('2d');
           
            // Calculate completion data
            const totalRevisions = topics.length * 5; // 5 revisions per topic
            let completedRevisions = 0;
           
            topics.forEach(topic => {
                topic.completedRevisions.forEach(completed => {
                    if (completed) completedRevisions++;
                });
            });
           
            const completionRate = totalRevisions > 0 ? (completedRevisions / totalRevisions) * 100 : 0;
           
            // Destroy existing chart if it exists
            if (window.progressChartInstance) {
                window.progressChartInstance.destroy();
            }
           
            window.progressChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Completed', 'Remaining'],
                    datasets: [{
                        data: [completedRevisions, totalRevisions - completedRevisions],
                        backgroundColor: [
                            'rgba(67, 97, 238, 0.8)',
                            'rgba(226, 232, 240, 0.8)'
                        ],
                        borderColor: [
                            'rgba(67, 97, 238, 1)',
                            'rgba(226, 232, 240, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: 'var(--text)',
                                font: {
                                    size: 12
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.raw} revisions`;
                                }
                            }
                        }
                    },
                    cutout: '70%'
                }
            });
        }
        
        // Initialize timeline chart
        function initTimelineChart() {
            const ctx = document.getElementById('timelineChart').getContext('2d');
            
            // Calculate revisions by date for the last 30 days
            const today = new Date();
            const dates = [];
            const completedData = [];
            const scheduledData = [];
            
            for (let i = 29; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(today.getDate() - i);
                dates.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
                
                let completed = 0;
                let scheduled = 0;
                
                topics.forEach(topic => {
                    topic.revisionDates.forEach((revDate, index) => {
                        const revisionDate = new Date(revDate);
                        revisionDate.setHours(0, 0, 0, 0);
                        
                        if (revisionDate.getTime() === date.getTime()) {
                            scheduled++;
                            if (topic.completedRevisions[index]) {
                                completed++;
                            }
                        }
                    });
                });
                
                completedData.push(completed);
                scheduledData.push(scheduled);
            }
            
            // Destroy existing chart if it exists
            if (window.timelineChartInstance) {
                window.timelineChartInstance.destroy();
            }
            
            window.timelineChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: dates,
                    datasets: [
                        {
                            label: 'Completed Revisions',
                            data: completedData,
                            borderColor: 'rgba(67, 97, 238, 1)',
                            backgroundColor: 'rgba(67, 97, 238, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Scheduled Revisions',
                            data: scheduledData,
                            borderColor: 'rgba(114, 9, 183, 1)',
                            backgroundColor: 'rgba(114, 9, 183, 0.1)',
                            borderDash: [5, 5],
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: 'var(--text)'
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                color: 'var(--text)'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                color: 'var(--text)'
                            }
                        }
                    }
                }
            });
        }

        // Check for today's revisions
        function checkTodaysRevisions() {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
           
            const todaysRevisions = [];
           
            topics.forEach(topic => {
                topic.revisionDates.forEach((revDate, index) => {
                    const revisionDate = new Date(revDate);
                    revisionDate.setHours(0, 0, 0, 0);
                   
                    if (revisionDate.getTime() === today.getTime() && !topic.completedRevisions[index]) {
                        todaysRevisions.push({
                            id: topic.id,
                            subject: topic.subject,
                            topicName: topic.topicName,
                            revisionIndex: index
                        });
                    }
                });
            });
           
            if (todaysRevisions.length > 0) {
                let html = '<ul style="list-style: none; padding: 0;">';
                todaysRevisions.forEach(rev => {
                    const subjectName = subjects[rev.subject].name;
                    html += `<li style="padding: 8px 0; border-bottom: 1px solid var(--border);">
                        <strong>${subjectName}:</strong> ${rev.topicName} <br>
                        <small style="color: var(--text-light);">Revision ${rev.revisionIndex + 1}</small>
                    </li>`;
                });
                html += '</ul>';
                todayRevisions.innerHTML = html;
            } else {
                todayRevisions.innerHTML = '<p style="color: var(--text-light);">No revisions scheduled for today.</p>';
            }
        }
        
        // Render to-do list
        function renderTodoList() {
            if (topics.length === 0) {
                todoList.innerHTML = '<p style="color: var(--text-light);">No revisions scheduled. Add topics to get started.</p>';
                return;
            }
            
            // Get all upcoming revisions (next 7 days)
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            const nextWeek = new Date(today);
            nextWeek.setDate(today.getDate() + 7);
            
            const upcomingRevisions = [];
            
            topics.forEach(topic => {
                topic.revisionDates.forEach((revDate, index) => {
                    const revisionDate = new Date(revDate);
                    revisionDate.setHours(0, 0, 0, 0);
                    
                    if (revisionDate >= today && revisionDate <= nextWeek && !topic.completedRevisions[index]) {
                        upcomingRevisions.push({
                            id: topic.id,
                            subject: topic.subject,
                            topicName: topic.topicName,
                            revisionIndex: index,
                            date: revisionDate,
                            completed: topic.completedRevisions[index]
                        });
                    }
                });
            });
            
            // Sort by date
            upcomingRevisions.sort((a, b) => a.date - b.date);
            
            if (upcomingRevisions.length === 0) {
                todoList.innerHTML = '<p style="color: var(--text-light);">No upcoming revisions in the next 7 days.</p>';
                return;
            }
            
            let html = '<ul class="todo-list">';
            upcomingRevisions.forEach(rev => {
                const subjectName = subjects[rev.subject].name;
                const dateString = rev.date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
                const isToday = rev.date.getTime() === today.getTime();
                
                html += `
                    <li class="todo-item">
                        <input type="checkbox" class="todo-checkbox" data-id="${rev.id}" data-index="${rev.revisionIndex}" ${rev.completed ? 'checked' : ''}>
                        <div class="todo-content">
                            <div class="todo-subject">${subjectName}</div>
                            <div class="todo-topic">${rev.topicName}</div>
                            <div class="todo-revision">Revision ${rev.revisionIndex + 1}</div>
                        </div>
                        <div class="todo-date">${isToday ? 'Today' : dateString}</div>
                    </li>
                `;
            });
            html += '</ul>';
            
            todoList.innerHTML = html;
            
            // Add event listeners to checkboxes
            document.querySelectorAll('.todo-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    const index = parseInt(this.getAttribute('data-index'));
                    
                    // Find the topic and update completion status
                    const topic = topics.find(t => t.id === id);
                    if (topic) {
                        topic.completedRevisions[index] = this.checked;
                        localStorage.setItem('topics', JSON.stringify(topics));
                        
                        // Update charts
                        initProgressChart();
                        initTimelineChart();
                        checkTodaysRevisions();
                    }
                });
            });
        }

        // Check if we should show notification
        function checkForNotification() {
            // Check if notification was already shown today
            const today = new Date().toDateString();
            if (localStorage.getItem('notificationShownDate') === today) {
                return;
            }
           
            // Check if there are revisions for today
            const todaysRevisions = getRevisionsForDate(new Date());
            if (todaysRevisions.length > 0) {
                // Show notification
                showNotification(todaysRevisions);
               
                // Mark notification as shown for today
                localStorage.setItem('notificationShownDate', today);
            }
        }
       
        // Show notification
        function showNotification(revisions) {
            let message = 'You have revisions scheduled for today:\n\n';
           
            revisions.forEach((rev, index) => {
                const subjectName = subjects[rev.subject].name;
                message += `${index + 1}. ${subjectName}: ${rev.topicName}\n`;
            });
           
            notificationMessage.textContent = message;
            notificationModal.classList.add('active');
        }
       
        // Close notification
        function closeNotification() {
            notificationModal.classList.remove('active');
        }
       
        // Go to revisions from notification
        function goToRevisions() {
            notificationModal.classList.remove('active');
            // Scroll to today's revisions section
            document.querySelector('.dashboard').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
